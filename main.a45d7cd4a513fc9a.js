"use strict";(self.webpackChunkmdrza_ranking=self.webpackChunkmdrza_ranking||[]).push([["main"],{1680:(f,N,m)=>{var _=m(1481),S=m(2561),M=m(8746);var t=m(1571),s=m(7274),r=m(433),C=m(4280),i=m(7155),w=m(4425),D=m(7009),z=m(4004),Y=m(6370);class d{constructor(e){this.httpClient=e}list(){const e=[];return this.httpClient.get("https://www.mit-dem-rad-zur-arbeit.de/api/teamranking.php?trid=98").pipe((0,z.U)(o=>(o.forEach(n=>{const l={};l.name=n.teamname,l.sumKm=n.Summe,l.sumDays=n.Tage,l.member=n.AnzTeammember,l.avgKm=n.AvgKM,l.avgDays=n.AvgDays,l.rank=n.rank,e.push(l)}),e)))}}d.\u0275fac=function(e){return new(e||d)(t.LFG(Y.eN))},d.\u0275prov=t.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"});var k=m(6895),h=m(4859),T=m(3546),Z=m(9549),y=m(4144);function F(a,e){1&a&&(t.TgZ(0,"mat-header-cell"),t._uU(1,"Rang"),t.qZA())}function O(a,e){if(1&a&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&a){const o=e.$implicit;t.xp6(1),t.Oqu(o.rank)}}function Q(a,e){1&a&&(t.TgZ(0,"mat-header-cell"),t._uU(1,"Name"),t.qZA())}function B(a,e){if(1&a&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&a){const o=e.$implicit;t.xp6(1),t.Oqu(o.name)}}function H(a,e){1&a&&(t.TgZ(0,"mat-header-cell"),t._uU(1,"Summe km"),t.qZA())}function R(a,e){if(1&a&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&a){const o=e.$implicit;t.xp6(1),t.Oqu(o.sumKm)}}function J(a,e){1&a&&(t.TgZ(0,"mat-header-cell",24),t._uU(1,"Summe Tage"),t.qZA())}function q(a,e){if(1&a&&(t.TgZ(0,"mat-cell",24),t._uU(1),t.qZA()),2&a){const o=e.$implicit;t.xp6(1),t.Oqu(o.sumDays)}}function L(a,e){1&a&&(t.TgZ(0,"mat-header-cell"),t._uU(1,"Avg Km"),t.qZA())}function K(a,e){if(1&a&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&a){const o=e.$implicit;t.xp6(1),t.Oqu(o.avgKm)}}function I(a,e){1&a&&(t.TgZ(0,"mat-header-cell",24),t._uU(1,"Avg Tage"),t.qZA())}function j(a,e){if(1&a&&(t.TgZ(0,"mat-cell",24),t._uU(1),t.qZA()),2&a){const o=e.$implicit;t.xp6(1),t.Oqu(o.avgDays)}}function P(a,e){1&a&&(t.TgZ(0,"mat-header-cell",25),t._uU(1,"Anzahl Mitglieder"),t.qZA())}function W(a,e){if(1&a&&(t.TgZ(0,"mat-cell",25),t._uU(1),t.qZA()),2&a){const o=e.$implicit;t.xp6(1),t.hij(" ",o.member," ")}}function $(a,e){1&a&&t._UZ(0,"mat-header-row")}function G(a,e){1&a&&t._UZ(0,"mat-row")}function X(a,e){if(1&a&&(t.TgZ(0,"mat-table",8),t.ynx(1,9),t.YNc(2,F,2,0,"mat-header-cell",10),t.YNc(3,O,2,1,"mat-cell",11),t.BQk(),t.ynx(4,12),t.YNc(5,Q,2,0,"mat-header-cell",10),t.YNc(6,B,2,1,"mat-cell",11),t.BQk(),t.ynx(7,13),t.YNc(8,H,2,0,"mat-header-cell",10),t.YNc(9,R,2,1,"mat-cell",11),t.BQk(),t.ynx(10,14),t.YNc(11,J,2,0,"mat-header-cell",15),t.YNc(12,q,2,1,"mat-cell",16),t.BQk(),t.ynx(13,17),t.YNc(14,L,2,0,"mat-header-cell",10),t.YNc(15,K,2,1,"mat-cell",11),t.BQk(),t.ynx(16,18),t.YNc(17,I,2,0,"mat-header-cell",15),t.YNc(18,j,2,1,"mat-cell",16),t.BQk(),t.ynx(19,19),t.YNc(20,P,2,0,"mat-header-cell",20),t.YNc(21,W,2,1,"mat-cell",21),t.BQk(),t.YNc(22,$,1,0,"mat-header-row",22),t.YNc(23,G,1,0,"mat-row",23),t.qZA()),2&a){const o=t.oxw();t.Q6J("dataSource",o.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns)}}const E=function(){return[5,10,20]};class g{constructor(e,o,n,l){this.formBuilder=e,this.clipboard=o,this.snackBar=n,this.mdrzaService=l,this.dataSource=new i.by,this.displayedColumns=["rank","name","sumKm","sumDays","avgKm","avgDays","member"]}get f(){return this.form.controls}ngOnInit(){this.form=this.formBuilder.group({filter:["",r.kI.required]}),this.mdrzaService.list().subscribe(e=>{this.dataSource=new i.by(e),this.dataSource.paginator=this.paginator,this.dataSource.filterPredicate=(n,l)=>{const x=(l=","===l.slice(-1)?l.slice(0,-1):l).trim().split(",");let U=!1;for(const tt of x)if(U=n.name.trim().toLocaleLowerCase().indexOf(tt.trim().toLocaleLowerCase())>=0,U)break;return U};const o=new URL(location.href).searchParams.get("teams");o&&(this.f.filter.setValue(o.trim()),this.setFilter(this.f.filter.value))})}applyFilter(e){this.setFilter(e.target.value)}setFilter(e){this.dataSource.filter=e.trim().toLowerCase()}onSubmit(){const e=new URL(location.href);e.searchParams.set("teams",this.f.filter.value),this.clipboard.copy(e.href),this.snackBar.open("Teams copied to clipboard","Ready",{duration:3e3,verticalPosition:"top"})}}g.\u0275fac=function(e){return new(e||g)(t.Y36(r.qu),t.Y36(w.TU),t.Y36(D.ux),t.Y36(d))},g.\u0275cmp=t.Xpm({type:g,selectors:[["mr-dashboard"]],viewQuery:function(e,o){if(1&e&&t.Gf(C.NW,5),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first)}},decls:12,vars:5,consts:[[1,"w-4/5","mx-auto"],["novalidate","",3,"formGroup","ngSubmit"],[1,"flex","gap-5","items-center"],["hintLabel","Enter the teams you want to see in contest and create a url to send to friends.",1,"basis-11/12"],["matInput","","formControlName","filter",3,"keyup"],["mat-raised-button","","color","primary",1,"flex-1",3,"disabled"],["showFirstLastButtons","",3,"pageSizeOptions"],["class","mat-elevation-z8",3,"dataSource",4,"ngIf"],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","rank"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","sumKm"],["matColumnDef","sumDays"],["fxHide.lt-sm","true",4,"matHeaderCellDef"],["fxHide.lt-sm","true",4,"matCellDef"],["matColumnDef","avgKm"],["matColumnDef","avgDays"],["matColumnDef","member"],["fxHide.lt-md","true",4,"matHeaderCellDef"],["fxHide.lt-md","true",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["fxHide.lt-sm","true"],["fxHide.lt-md","true"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-content")(2,"form",1),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(3,"div",2)(4,"mat-form-field",3)(5,"mat-label"),t._uU(6,"Teams"),t.qZA(),t.TgZ(7,"input",4),t.NdJ("keyup",function(l){return o.applyFilter(l)}),t.qZA()(),t.TgZ(8,"button",5),t._uU(9,"URL"),t.qZA()()(),t._UZ(10,"mat-paginator",6),t.YNc(11,X,24,3,"mat-table",7),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("formGroup",o.form),t.xp6(6),t.Q6J("disabled",!o.form.valid),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(4,E)),t.xp6(1),t.Q6J("ngIf",o.dataSource))},dependencies:[k.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,h.lW,T.a8,T.dn,Z.KE,Z.hX,y.Nt,C.NW,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk],encapsulation:2});var A=m(3683);function V(a,e){1&a&&(t.TgZ(0,"h2",5),t._uU(1,"Overview"),t.qZA(),t.TgZ(2,"mat-dialog-content"),t._uU(3," Shows the ranking of teams for 'MdRzA - Mit dem Rad zur Arbeit'. "),t._UZ(4,"br"),t._uU(5," Users can create a link to share or use himself. "),t.qZA(),t.TgZ(6,"mat-dialog-actions",6)(7,"button",7),t._uU(8,"Close"),t.qZA()())}class b{constructor(e,o,n){this.dialog=e,this.titleService=o,this.overlayContainer=n,this.class="indigo-pink-theme",this.appname="MdRzA Ranking",this.titleService.setTitle(this.appname),this.overlayContainer.getContainerElement().classList.add("indigo-pink-theme")}openDialog(e){this.dialog.open(e,{maxWidth:"800px"})}}b.\u0275fac=function(e){return new(e||b)(t.Y36(s.uw),t.Y36(_.Dx),t.Y36(S.Xj))},b.\u0275cmp=t.Xpm({type:b,selectors:[["mr-root"]],hostVars:2,hostBindings:function(e,o){2&e&&t.Tol(o.class)},decls:12,vars:1,consts:[[1,"mat-app-background"],["color","primary",1,"mat-elevation-z4","justify-between"],["mat-button","",3,"click"],["mat-button","","href","https://www.mit-dem-rad-zur-arbeit.de/","target","_blank"],["dialog",""],["mat-dialog-title",""],["align","end"],["mat-button","","mat-dialog-close","","cdkFocusInitial",""]],template:function(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"div",0)(1,"mat-toolbar",1),t._uU(2),t.TgZ(3,"div")(4,"button",2),t.NdJ("click",function(){t.CHM(n);const x=t.MAs(10);return t.KtG(o.openDialog(x))}),t._uU(5,"APP INFO"),t.qZA(),t._uU(6," | "),t.TgZ(7,"a",3),t._uU(8,"Open MdRzA"),t.qZA()()(),t.YNc(9,V,9,0,"ng-template",null,4,t.W1O),t._UZ(11,"mr-dashboard"),t.qZA()}2&e&&(t.xp6(2),t.hij(" ",o.appname," "))},dependencies:[g,h.zs,h.lW,s.ZT,s.uh,s.xY,s.H8,A.Ye],styles:["body[_ngcontent-%COMP%]{font-family:Roboto,Helvetica Neue Light,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;margin:0;overflow-y:scroll}mat-card[_ngcontent-%COMP%]{margin-top:20px}"]});class c{}c.\u0275fac=function(e){return new(e||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[h.ot,T.QW,s.Is,Z.lN,y.c,C.TU,D.ZX,i.p0,A.g0,h.ot,T.QW,s.Is,Z.lN,y.c,C.TU,D.ZX,i.p0,A.g0]});class p{}p.\u0275fac=function(e){return new(e||p)},p.\u0275mod=t.oAB({type:p}),p.\u0275inj=t.cJS({imports:[w.Iq,k.ez,Y.JF,r.UX,c]});class u{}u.\u0275fac=function(e){return new(e||u)},u.\u0275mod=t.oAB({type:u,bootstrap:[b]}),u.\u0275inj=t.cJS({imports:[M.PW,_.b2,S.U8,p,c]}),_.q6().bootstrapModule(u).catch(a=>console.error(a))}},f=>{f.O(0,["vendor"],()=>f(f.s=1680)),f.O()}]);